# Threads Reference

## `(active thread)` -> Thread
Returns the currently active thread.

This is always the thread that contains the block, because it is impossible to run this block without it being in the active thread.

## `(null thread)` -> Thread
Returns the null thread.

This represents a thread that failed to load or doesn't exist. It has an ID of `undefined`. This thread is also used when the wrong type is inserted into a thread input.

## `(thread at (INDEX v))` -> Thread
Returns the thread that is at `INDEX` in the running threads list. If `INDEX` is 0, returns the last thread.

---

## `(target of [THREAD])` -> Target
Returns the target that is running / ran `THREAD`.

## `(id of [THREAD])` -> String
Returns a unique identifier for `THREAD`. This ID is generated by the extension and is not used in the PenguinMod engine.

## `(status of [THREAD])` -> Number
Returns the current status code of `THREAD`. These are the possible values:

| Status | Display name         | Description                                                  |
|--------|----------------------|--------------------------------------------------------------|
| 0      | Running              | The thread is not finished.[^1]                              |
| 1      | Waiting for promise  | Behavior unknown                                             |
| 2      | Yielded              | Behavior unknown                                             |
| 3      | Yielded for one tick | Behavior unknown                                             |
| 4      | Completed            | The thread is "dead", i.e. it will never run code again.[^1] |
| 5      | Paused               | Behavior unknown                                             |

---

## `<[THREADONE] is [THREADTWO]>` -> Boolean
Returns `true` if the IDs of the threads match, otherwise returns `false`.

Note that the `<[] = []>` block in Operators will not work for this, as that block compares the stringified value.

## `<[VALUE] is a thread?>` -> Boolean
Returns `true` if `VALUE` is a thread, otherwise returns `false`.

## `<[THREAD] is null?>` -> Boolean
Returns `true` if `THREAD` is the null thread.

## `<[THREAD] is alive?>` -> Boolean
Returns `true` if `THREAD` is alive, i.e. it is not finished.

## `<[THREAD] exited naturally?>` -> Boolean
Returns `true` if `THREAD` is dead, but was not killed, i.e. it exited of its own accord.[^2]

## `<[THREAD] was killed?>` -> Boolean
Returns `true` if `THREAD` exited due to an external cause.[^2]

## `<[THREAD] was started by clicking in the editor?>` -> Boolean
Returns `true` if `THREAD` was started by manually clicking a stack in the code editor.

---

## `(running threads)` -> Array\[Thread\]
Returns all threads that are currently alive in their execution order.

## `(position of [THREAD])` -> Number
Returns the index of `THREAD` in the list of alive threads.



[^1]: In the case where `stop [all v]` is used, the status of all threads except the thread that ran the block will stay unchanged, rather than becoming status 4, even though the affected threads are now dead. To reliably check if a thread is alive, use [`<[THREAD] is alive?>`](#thread-is-alive---boolean).

[^2]: The one exception to this is when `stop [all v]` is used, the thread that ran the block will be considered "killed", even though it caused its own termination.
